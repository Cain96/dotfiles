[user]
	name = Kenta Kuroda
	email = tk.777.k@gmail.com
{{ if eq (env "CI") "true" }}
	# GitHub Actions環境用設定（署名なし）
	signingkey =
{{ else if eq .chezmoi.hostname "KentaMacBookPro" }}
	# プライベートPC用設定
	signingkey = ~/.ssh/id_ed25519_signed
{{ else }}
	# 仕事用PC用設定（1Password）
	signingkey = {{ onepasswordRead "op://Employee/id_ed25519_signed/public key" }}
{{ end }}
[core]
	ignorecase = false
	quotepath = false
[gpg]
	format = ssh
[gpg "ssh"]
	allowedSignersFile = ~/.ssh/allowed_signers
{{ if and (ne .chezmoi.hostname "KentaMacBookPro") (ne (env "CI") "true") }}
	# 仕事用PC用設定（1Password SSH署名プログラム）
	program = /Applications/1Password.app/Contents/MacOS/op-ssh-sign
{{ end }}
[commit]
	gpgsign = true
[tag]
	gpgsign = true
[ghq]
	root = ~/workspace
[alias]
	co = checkout
	cm = commit
	pushf = push --force-with-lease --force-if-includes
	refresh= !git fetch origin && git remote prune origin
	aicommit = !~/.local/bin/git-aicommit
	aibranch = !~/.local/bin/git-aibranch
[status]
	showUntrackedFiles = all
[push]
	default = current
[fetch]
	prune = true
[pull]
	rebase = true
[rebase]
	updateRefs = true
[rerere]
	enabled = true
[absorb]
	maxStack=50
[gtr "editor"]
	default = cursor
[gtr "ai"]
	default = claude
